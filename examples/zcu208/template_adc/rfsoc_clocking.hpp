/// Led Blinker driver
///
/// (c) Koheron

#ifndef __DRIVERS_rfsoc_HPP__
#define __DRIVERS_rfsoc_HPP__

#include <context.hpp>
#include <rfsoc.hpp>

namespace fs = std::filesystem;

class RFSoC_ADC_DAC {
public:
  RFSoC_ADC_DAC(Context &ctx_)
      : ctx(ctx_), ctl(ctx_.mm.get<mem::control>()),
        sts(ctx_.mm.get<mem::status>()) {

    try {
      find_devices();
      ctx.log<INFO>("LMK devices found: [%d]\n", lmk_devices.size());
      ctx.log<INFO>("LMX devices found: [%d]\n", lmx_devices.size());
    } catch (const std::exception &e) {
      std::cerr << "Error: " << e.what() << "\n";
    }
  }

  std::array<uint32_t, 8> get_rfsoc_clocks() {
    std::array<uint32_t, 8> ret = {sts.read<reg::adc_clk0, uint32_t>(),
                                   sts.read<reg::adc_clk1, uint32_t>(),
                                   sts.read<reg::adc_clk2, uint32_t>(),
                                   sts.read<reg::adc_clk3, uint32_t>(),
                                   sts.read<reg::dac_clk0, uint32_t>(),
                                   sts.read<reg::dac_clk1, uint32_t>(),
                                   sts.read<reg::dac_clk2, uint32_t>(),
                                   sts.read<reg::dac_clk3, uint32_t>()};
    for (size_t i = 0; i < 8; i++)
      ctx.log<INFO>("Print RF%d clocks: %d", i, ret[i]);
    return ret;
  }
  std::array<uint32_t, 8> get_adc_raw_data() {
    std::array<uint32_t, 8> ret = {sts.read<reg::adc_sample0, uint32_t>(),
                                   sts.read<reg::adc_sample1, uint32_t>(),
                                   sts.read<reg::adc_sample2, uint32_t>(),
                                   sts.read<reg::adc_sample3, uint32_t>(),
                                   sts.read<reg::adc_sample4, uint32_t>(),
                                   sts.read<reg::adc_sample5, uint32_t>(),
                                   sts.read<reg::adc_sample6, uint32_t>(),
                                   sts.read<reg::adc_sample7, uint32_t>()};
    for (size_t i = 0; i < 8; i++)
      ctx.log<INFO>("Print ADC%d sample: %d", i, ret[i]);
    return ret;
  }

  void set_clocks(uint32_t lmk, uint32_t lmx) {

    for (auto dev : lmx_devices)
    {
      bool found  = false;
      for (auto reglist : ClockingReg)
      {
        if ((reglist.xfrequency == lmx) && (reglist.chip == dev.compatible))
        {
          found = true;
          dev.write_LMK_regs(&reglist);
          ctx.log<INFO>("set_clocks: found [%s - %d]\n", dev.compatible, lmx);
          break;
        }
      }
      if (!found)
      {
          ctx.log<ERROR>("set_clocks: not found [%s - %d]\n", dev.compatible, lmx);
      }
    }
    for (auto dev : lmk_devices)
    {
      bool found  = false;
      for (auto reglist : ClockingReg)
      {
        if ((reglist.xfrequency == lmk) && (reglist.chip == dev.compatible))
        {
          found = true;
          dev.write_LMK_regs(&reglist);
          ctx.log<INFO>("set_clocks: found [%s - %d]\n", dev.compatible, lmk);
          break;
        }
      }
      if (!found)
      {
          ctx.log<ERROR>("set_clocks: not found [%s - %d]\n", dev.compatible, lmk);
      }
    }
  }
private:
  Context &ctx;
  Memory<mem::control> &ctl;
  Memory<mem::status> &sts;

  std::vector<LMKDevice> lmk_devices;
  std::vector<LMXDevice> lmx_devices;

  std::string get_spi_path(const fs::path &dev) {
    // Implement logic to get /dev/spidevB.C path
    // Placeholder: return dev filename
    return "spidev" + dev.filename().string().substr(3);
  }
  std::string get_spidev_path(const fs::path &dev) {
    // Implement logic to get /dev/spidevB.C path
    // Placeholder: return dev filename
    return "spi" + dev.filename().string().substr(3);
  }

  void spidev_bind(const fs::path &dev) {
    // Implement actual binding logic
    // (dev / '').write_text('spidev')
    //
    fs::path driver_override = dev / "driver_override";
    std::ofstream override_fs(driver_override);
    override_fs << "spidev";

    if (fs::exists("/sys/bus/spi/drivers/spidev/bind")) {
      std::ofstream bind_fs("/sys/bus/spi/drivers/spidev/bind");
      if (bind_fs.is_open()) {
        ctx.log<INFO>("spidev_bind: [%s]\n", dev.filename().string().c_str());
        bind_fs << dev.filename().string().c_str();
      }
    }
  }

  uint32_t read_big_endian_uint32(const fs::path &file_path) {
    std::ifstream file(file_path, std::ios::binary);
    if (!file.is_open())
      throw std::runtime_error("Failed to open " + file_path.string());

    unsigned char bytes[4];
    file.read(reinterpret_cast<char *>(bytes), 4);
    if (file.gcount() != 4)
      throw std::runtime_error("Failed to read 4 bytes from " +
                               file_path.string());

    return (uint32_t(bytes[0]) << 24) | (uint32_t(bytes[1]) << 16) |
           (uint32_t(bytes[2]) << 8) | uint32_t(bytes[3]);
  }

  void find_devices() {
    fs::path spi_path("/sys/bus/spi/devices");

    for (auto &dev : fs::directory_iterator(spi_path)) {
      fs::path compatible_file = dev.path() / "of_node" / "compatible";
      std::ifstream comp_fs(compatible_file);
      if (!comp_fs.is_open())
        continue;

      std::string compatible;
      std::getline(comp_fs, compatible);
      if (compatible.size() < 3)
        continue;

      // Strip company name like 'ti,'
      compatible = compatible.substr(3);

      if (compatible.substr(0, 3) != "lmk" && compatible.substr(0, 3) != "lmx")
        continue;

      fs::path driver_path = dev.path() / "driver";
      if (fs::exists(driver_path)) {
        std::ofstream unbind_fs(driver_path / "unbind");
        if (unbind_fs.is_open())
          unbind_fs << dev.path().filename().string();
      }

      spidev_bind(dev.path());

      if (compatible.substr(0, 3) == "lmk") {
        //LMKDevice lmk(ctx.spi.get(get_spidev_path(dev.path())));
        LMKDevice lmk(get_spidev_path(dev.path()), compatible, 
              read_big_endian_uint32(dev.path() / "of_node" / "num_bytes"), 
              ctx.spi.get(get_spi_path(dev.path())));
        lmk_devices.push_back(lmk);
        ctx.log<INFO>("Binding: [%s, %s, %d]\n", lmk.spi_device.c_str(), lmk.compatible.c_str(),
                      lmk.num_bytes);
      } else {
        LMXDevice lmx(get_spidev_path(dev.path()), compatible, 
              ctx.spi.get(get_spi_path(dev.path())));
        //LMXDevice lmx(ctx.spi.get(get_spidev_path(dev.path())));
        lmx_devices.push_back(lmx);
        ctx.log<INFO>("Binding: [%s, %s]\n", lmx.spi_device.c_str(), lmx.compatible.c_str());
      }
    }

    if (lmk_devices.empty())
      throw std::runtime_error(
          "SPI path not set. LMK not found on device tree. Issue with BSP.");
    if (lmx_devices.empty())
      throw std::runtime_error(
          "SPI path not set. LMX not found on device tree. Issue with BSP.");
  }
  std::array<XClockingLmx, MAX_FREQ> ClockingReg = {
      {XClockingLmx{
           "lmx2594",
           102400,
           113,
           {112, 111, 110, 109, 108, 107, 106, 105, 104, 103, 102, 101, 100, 99,
            98,  97,  96,  95,  94,  93,  92,  91,  90,  89,  88,  87,  86,  85,
            84,  83,  82,  81,  80,  79,  78,  77,  76,  75,  74,  73,  72,  71,
            70,  69,  68,  67,  66,  65,  64,  63,  62,  61,  60,  59,  58,  57,
            56,  55,  54,  53,  52,  51,  50,  49,  48,  47,  46,  45,  44,  43,
            42,  41,  40,  39,  38,  37,  36,  35,  34,  34,  32,  31,  30,  29,
            28,  27,  26,  25,  24,  23,  22,  21,  20,  19,  18,  17,  16,  15,
            14,  13,  12,  11,  10,  9,   8,   7,   6,   5,   4,   3,   2,   1,
            0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,
            0,   0,   0,   0,   0,   0,   0,   0,   0,   0},
           {0x700000, 0x6F0000, 0x6E0000, 0x6D0000, 0x6C0000, 0x6B0000,
            0x6A0000, 0x690021, 0x680000, 0x670000, 0x663F80, 0x650011,
            0x640000, 0x630000, 0x620200, 0x610888, 0x600000, 0x5F0000,
            0x5E0000, 0x5D0000, 0x5C0000, 0x5B0000, 0x5A0000, 0x590000,
            0x580000, 0x570000, 0x560000, 0x55D300, 0x540001, 0x530000,
            0x521E00, 0x510000, 0x506666, 0x4F0026, 0x4E0003, 0x4D0000,
            0x4C000C, 0x4B0AC0, 0x4A0000, 0x49003F, 0x480001, 0x470081,
            0x46C350, 0x450000, 0x4403E8, 0x430000, 0x4201F4, 0x410000,
            0x401388, 0x3F0000, 0x3E0322, 0x3D00A8, 0x3C0000, 0x3B0001,
            0x3A8001, 0x390020, 0x380000, 0x370000, 0x360000, 0x350000,
            0x340820, 0x330080, 0x320000, 0x314180, 0x300300, 0x2F0300,
            0x2E07FC, 0x2DC0CC, 0x2C0C23, 0x2B0000, 0x2A0000, 0x290000,
            0x280000, 0x270001, 0x260000, 0x250304, 0x240050, 0x230004,
            0x220000, 0x211E21, 0x200393, 0x1F43EC, 0x1E318C, 0x1D318C,
            0x1C0488, 0x1B0002, 0x1A0DB0, 0x190624, 0x18071A, 0x17007C,
            0x160001, 0x150401, 0x14E048, 0x1327B7, 0x120064, 0x11012C,
            0x100080, 0x0F064F, 0x0E1E70, 0x0D4000, 0x0C5001, 0x0B0018,
            0x0A10D8, 0x090604, 0x082000, 0x0740B2, 0x06C802, 0x0500C8,
            0x040A43, 0x030642, 0x020500, 0x010808, 0x00249C, 0,
            0,        0,        0,        0,        0,        0,
            0,        0,        0,        0,        0,        0,
            0,        0,        0,        0,        0,        0,
            0,        0,        0,        0}},
       XClockingLmx{
           "lmx2594",
           204800,
           113,
           {112, 111, 110, 109, 108, 107, 106, 105, 104, 103, 102, 101, 100, 99,
            98,  97,  96,  95,  94,  93,  92,  91,  90,  89,  88,  87,  86,  85,
            84,  83,  82,  81,  80,  79,  78,  77,  76,  75,  74,  73,  72,  71,
            70,  69,  68,  67,  66,  65,  64,  63,  62,  61,  60,  59,  58,  57,
            56,  55,  54,  53,  52,  51,  50,  49,  48,  47,  46,  45,  44,  43,
            42,  41,  40,  39,  38,  37,  36,  35,  34,  33,  32,  31,  30,  29,
            28,  27,  26,  25,  24,  23,  22,  21,  20,  19,  18,  17,  16,  15,
            14,  13,  12,  11,  10,  9,   8,   7,   6,   5,   4,   3,   2,   1,
            0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,
            0,   0,   0,   0,   0,   0,   0,   0,   0,   0},
           {0x700000, 0x6F0000, 0x6E0000, 0x6D0000, 0x6C0000, 0x6B0000,
            0x6A0000, 0x690021, 0x680000, 0x670000, 0x663F80, 0x650011,
            0x640000, 0x630000, 0x620200, 0x610888, 0x600000, 0x5F0000,
            0x5E0000, 0x5D0000, 0x5C0000, 0x5B0000, 0x5A0000, 0x590000,
            0x580000, 0x570000, 0x560000, 0x55D300, 0x540001, 0x530000,
            0x521E00, 0x510000, 0x506666, 0x4F0026, 0x4E0003, 0x4D0000,
            0x4C000C, 0x4B0A00, 0x4A0000, 0x49003F, 0x480001, 0x470081,
            0x46C350, 0x450000, 0x4403E8, 0x430000, 0x4201F4, 0x410000,
            0x401388, 0x3F0000, 0x3E0322, 0x3D00A8, 0x3C0000, 0x3B0001,
            0x3A8001, 0x390020, 0x380000, 0x370000, 0x360000, 0x350000,
            0x340820, 0x330080, 0x320000, 0x314180, 0x300300, 0x2F0300,
            0x2E07FC, 0x2DC0CC, 0x2C0C23, 0x2B0000, 0x2A0000, 0x290000,
            0x280000, 0x270001, 0x260000, 0x250304, 0x240050, 0x230004,
            0x220000, 0x211E21, 0x200393, 0x1F43EC, 0x1E318C, 0x1D318C,
            0x1C0488, 0x1B0002, 0x1A0DB0, 0x190624, 0x18071A, 0x17007C,
            0x160001, 0x150401, 0x14E048, 0x1327B7, 0x120064, 0x11012C,
            0x100080, 0x0F064F, 0x0E1E70, 0x0D4000, 0x0C5001, 0x0B0018,
            0x0A10D8, 0x090604, 0x082000, 0x0740B2, 0x06C802, 0x0500C8,
            0x040A43, 0x030642, 0x020500, 0x010808, 0x00249C, 0,
            0,        0,        0,        0,        0,        0,
            0,        0,        0,        0,        0,        0,
            0,        0,        0,        0,        0,        0,
            0,        0,        0,        0}},
       XClockingLmx{
           "lmx2594",
           4000000,
           113,
           {112, 111, 110, 109, 108, 107, 106, 105, 104, 103, 102, 101, 100, 99,
            98,  97,  96,  95,  94,  93,  92,  91,  90,  89,  88,  87,  86,  85,
            84,  83,  82,  81,  80,  79,  78,  77,  76,  75,  74,  73,  72,  71,
            70,  69,  68,  67,  66,  65,  64,  63,  62,  61,  60,  59,  58,  57,
            56,  55,  54,  53,  52,  51,  50,  49,  48,  47,  46,  45,  44,  43,
            42,  41,  40,  39,  38,  37,  36,  35,  34,  33,  32,  31,  30,  29,
            28,  27,  26,  25,  24,  23,  22,  21,  20,  19,  18,  17,  16,  15,
            14,  13,  12,  11,  10,  9,   8,   7,   6,   5,   4,   3,   2,   1,
            0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,
            0,   0,   0,   0,   0,   0,   0,   0,   0,   0},
           {0x700000, 0x6F0000, 0x6E0000, 0x6D0000, 0x6C0000, 0x6B0000,
            0x6A0000, 0x690021, 0x680000, 0x670000, 0x663F80, 0x650011,
            0x640000, 0x630000, 0x620200, 0x610888, 0x600000, 0x5F0000,
            0x5E0000, 0x5D0000, 0x5C0000, 0x5B0000, 0x5A0000, 0x590000,
            0x580000, 0x570000, 0x560000, 0x55D300, 0x540001, 0x530000,
            0x521E00, 0x510000, 0x506666, 0x4F0026, 0x4E010D, 0x4D0000,
            0x4C000C, 0x4B0800, 0x4A0000, 0x49003F, 0x480001, 0x470081,
            0x46C350, 0x450000, 0x4403E8, 0x430000, 0x4201F4, 0x410000,
            0x401388, 0x3F0000, 0x3E0322, 0x3D00A8, 0x3C0000, 0x3B0001,
            0x3A8001, 0x390020, 0x380000, 0x370000, 0x360000, 0x350000,
            0x340820, 0x330080, 0x320000, 0x314180, 0x300300, 0x2F0300,
            0x2E07FC, 0x2DC0DF, 0x2C1F80, 0x2B0000, 0x2A0000, 0x29005A,
            0x280000, 0x270001, 0x260000, 0x250104, 0x240C80, 0x230004,
            0x220000, 0x211E21, 0x200393, 0x1F43EC, 0x1E318C, 0x1D318C,
            0x1C0488, 0x1B0002, 0x1A0DB0, 0x190624, 0x18071A, 0x17007C,
            0x160001, 0x150401, 0x14D848, 0x1327B7, 0x120064, 0x11014E,
            0x100080, 0x0F064F, 0x0E1E40, 0x0D4000, 0x0C5002, 0x0B0648,
            0x0A10D8, 0x090604, 0x082000, 0x0740B2, 0x06C802, 0x0500C8,
            0x041943, 0x030642, 0x020500, 0x010809, 0x00241C, 0,
            0,        0,        0,        0,        0,        0,
            0,        0,        0,        0,        0,        0,
            0,        0,        0,        0,        0,        0,
            0,        0,        0,        0}},
       XClockingLmx{
           "lmx2594",
           409600,
           113, // ← replace ??? with frequency label (e.g. 3900.0)
           {112, 111, 110, 109, 108, 107, 106, 105, 104, 103, 102, 101, 100, 99,
            98,  97,  96,  95,  94,  93,  92,  91,  90,  89,  88,  87,  86,  85,
            84,  83,  82,  81,  80,  79,  78,  77,  76,  75,  74,  73,  72,  71,
            70,  69,  68,  67,  66,  65,  64,  63,  62,  61,  60,  59,  58,  57,
            56,  55,  54,  53,  52,  51,  50,  49,  48,  47,  46,  45,  44,  43,
            42,  41,  40,  39,  38,  37,  36,  35,  34,  33,  32,  31,  30,  29,
            28,  27,  26,  25,  24,  23,  22,  21,  20,  19,  18,  17,  16,  15,
            14,  13,  12,  11,  10,  9,   8,   7,   6,   5,   4,   3,   2,   1,
            0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,
            0,   0,   0,   0,   0,   0,   0,   0,   0,   0},
           {0x700000, 0x6F0000, 0x6E0000, 0x6D0000, 0x6C0000, 0x6B0000,
            0x6A0000, 0x690021, 0x680000, 0x670000, 0x663F80, 0x650011,
            0x640000, 0x630000, 0x620200, 0x610888, 0x600000, 0x5F0000,
            0x5E0000, 0x5D0000, 0x5C0000, 0x5B0000, 0x5A0000, 0x590000,
            0x580000, 0x570000, 0x560000, 0x55D300, 0x540001, 0x530000,
            0x521E00, 0x510000, 0x506666, 0x4F0026, 0x4E0003, 0x4D0000,
            0x4C000C, 0x4B0980, 0x4A0000, 0x49003F, 0x480001, 0x470081,
            0x46C350, 0x450000, 0x4403E8, 0x430000, 0x4201F4, 0x410000,
            0x401388, 0x3F0000, 0x3E0322, 0x3D00A8, 0x3C0000, 0x3B0001,
            0x3A8001, 0x390020, 0x380000, 0x370000, 0x360000, 0x350000,
            0x340820, 0x330080, 0x320000, 0x314180, 0x300300, 0x2F0300,
            0x2E07FC, 0x2DC0CC, 0x2C0C23, 0x2B0000, 0x2A0000, 0x290000,
            0x280000, 0x270001, 0x260000, 0x250304, 0x240050, 0x230004,
            0x220000, 0x211E21, 0x200393, 0x1F43EC, 0x1E318C, 0x1D318C,
            0x1C0488, 0x1B0002, 0x1A0DB0, 0x190624, 0x18071A, 0x17007C,
            0x160001, 0x150401, 0x14E048, 0x1327B7, 0x120064, 0x11012C,
            0x100080, 0x0F064F, 0x0E1E70, 0x0D4000, 0x0C5001, 0x0B0018,
            0x0A10D8, 0x090604, 0x082000, 0x0740B2, 0x06C802, 0x0500C8,
            0x040A43, 0x030642, 0x020500, 0x010808, 0x00249C, 0,
            0,        0,        0,        0,        0,        0,
            0,        0,        0,        0,        0,        0,
            0,        0,        0,        0,        0,        0,
            0,        0,        0,        0}},
       XClockingLmx{
           "lmx2594",
           491520,
           113, // ← replace XXXX with your frequency (e.g. 4000.0)
           {112, 111, 110, 109, 108, 107, 106, 105, 104, 103, 102, 101, 100, 99,
            98,  97,  96,  95,  94,  93,  92,  91,  90,  89,  88,  87,  86,  85,
            84,  83,  82,  81,  80,  79,  78,  77,  76,  75,  74,  73,  72,  71,
            70,  69,  68,  67,  66,  65,  64,  63,  62,  61,  60,  59,  58,  57,
            56,  55,  54,  53,  52,  51,  50,  49,  48,  47,  46,  45,  44,  43,
            42,  41,  40,  39,  38,  37,  36,  35,  34,  33,  32,  31,  30,  29,
            28,  27,  26,  25,  24,  23,  22,  21,  20,  19,  18,  17,  16,  15,
            14,  13,  12,  11,  10,  9,   8,   7,   6,   5,   4,   3,   2,   1,
            0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,
            0,   0,   0,   0,   0,   0,   0,   0,   0,   0},
           {0x700000, 0x6F0000, 0x6E0000, 0x6D0000, 0x6C0000, 0x6B0000,
            0x6A0000, 0x690021, 0x680000, 0x670000, 0x663F80, 0x650011,
            0x640000, 0x630000, 0x620200, 0x610888, 0x600000, 0x5F0000,
            0x5E0000, 0x5D0000, 0x5C0000, 0x5B0000, 0x5A0000, 0x590000,
            0x580000, 0x570000, 0x560000, 0x55D300, 0x540001, 0x530000,
            0x521E00, 0x510000, 0x506666, 0x4F0026, 0x4E00E5, 0x4D0000,
            0x4C000C, 0x4B0940, 0x4A0000, 0x49003F, 0x480001, 0x470081,
            0x46C350, 0x450000, 0x4403E8, 0x430000, 0x4201F4, 0x410000,
            0x401388, 0x3F0000, 0x3E0322, 0x3D00A8, 0x3C0000, 0x3B0001,
            0x3A8001, 0x390020, 0x380000, 0x370000, 0x360000, 0x350000,
            0x340820, 0x330080, 0x320000, 0x314180, 0x300300, 0x2F0300,
            0x2E07FC, 0x2DC0DF, 0x2C1FA0, 0x2B0000, 0x2A0000, 0x290000,
            0x280000, 0x270001, 0x260000, 0x250104, 0x240140, 0x230004,
            0x220000, 0x211E21, 0x200393, 0x1F43EC, 0x1E318C, 0x1D318C,
            0x1C0488, 0x1B0002, 0x1A0DB0, 0x190624, 0x18071A, 0x17007C,
            0x160001, 0x150401, 0x14C848, 0x1327B7, 0x120064, 0x110117,
            0x100080, 0x0F064F, 0x0E1E40, 0x0D4000, 0x0C5001, 0x0B00A8,
            0x0A10D8, 0x090604, 0x082000, 0x0740B2, 0x06C802, 0x0500C8,
            0x040C43, 0x030642, 0x020500, 0x010809, 0x00241C, 0,
            0,        0,        0,        0,        0,        0,
            0,        0,        0,        0,        0,        0,
            0,        0,        0,        0,        0,        0,
            0,        0,        0,        0}},
       XClockingLmx{
           "lmx2594",
           737000,
           113,
           {112, 111, 110, 109, 108, 107, 106, 105, 104, 103, 102, 101, 100, 99,
            98,  97,  96,  95,  94,  93,  92,  91,  90,  89,  88,  87,  86,  85,
            84,  83,  82,  81,  80,  79,  78,  77,  76,  75,  74,  73,  72,  71,
            70,  69,  68,  67,  66,  65,  64,  63,  62,  61,  60,  59,  58,  57,
            56,  55,  54,  53,  52,  51,  50,  49,  48,  47,  46,  45,  44,  43,
            42,  41,  40,  39,  38,  37,  36,  35,  34,  33,  32,  31,  30,  29,
            28,  27,  26,  25,  24,  23,  22,  21,  20,  19,  18,  17,  16,  15,
            14,  13,  12,  11,  10,  9,   8,   7,   6,   5,   4,   3,   2,   1,
            0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,
            0,   0,   0,   0,   0,   0,   0,   0,   0,   0},
           {0x700000, 0x6F0000, 0x6E0000, 0x6D0000, 0x6C0000, 0x6B0000,
            0x6A0000, 0x690021, 0x680000, 0x670000, 0x663F80, 0x650011,
            0x640000, 0x630000, 0x620200, 0x610888, 0x600000, 0x5F0000,
            0x5E0000, 0x5D0000, 0x5C0000, 0x5B0000, 0x5A0000, 0x590000,
            0x580000, 0x570000, 0x560000, 0x55D300, 0x540001, 0x530000,
            0x521E00, 0x510000, 0x506666, 0x4F0026, 0x4E0003, 0x4D0000,
            0x4C000C, 0x4B0900, 0x4A0000, 0x49003F, 0x480001, 0x470081,
            0x46C350, 0x450000, 0x4403E8, 0x430000, 0x4201F4, 0x410000,
            0x401388, 0x3F0000, 0x3E0322, 0x3D00A8, 0x3C0000, 0x3B0001,
            0x3A8001, 0x390020, 0x380000, 0x370000, 0x360000, 0x350000,
            0x340820, 0x330080, 0x320000, 0x314180, 0x300300, 0x2F0300,
            0x2E07FC, 0x2DC0CC, 0x2C0C23, 0x2B0000, 0x2A0000, 0x290000,
            0x280000, 0x270001, 0x260000, 0x250304, 0x240048, 0x230004,
            0x220000, 0x211E21, 0x200393, 0x1F43EC, 0x1E318C, 0x1D318C,
            0x1C0488, 0x1B0002, 0x1A0DB0, 0x190624, 0x18071A, 0x17007C,
            0x160001, 0x150401, 0x14E048, 0x1327B7, 0x120064, 0x11012C,
            0x100080, 0x0F064F, 0x0E1E70, 0x0D4000, 0x0C5001, 0x0B0018,
            0x0A10D8, 0x090604, 0x082000, 0x0740B2, 0x06C802, 0x0500C8,
            0x040A43, 0x030642, 0x020500, 0x010808, 0x00249C, 0,
            0,        0,        0,        0,        0,        0,
            0,        0,        0,        0,        0,        0,
            0,        0,        0,        0,        0,        0,
            0,        0,        0,        0}},
       XClockingLmx{"lmk04208",
                    122880,
                    26,
                    {0,   1,   2,   3,   4,   5,   6,   7,   8,   9,   10,  11,
                     12,  13,  14,  15,  16,  24,  25,  26,  27,  28,  29,  30,
                     31,  32,  33,  34,  35,  36,  37,  38,  39,  40,  41,  42,
                     43,  44,  45,  46,  47,  48,  49,  50,  51,  52,  53,  54,
                     55,  56,  57,  58,  59,  60,  61,  62,  63,  64,  65,  66,
                     67,  68,  69,  70,  71,  72,  73,  74,  75,  76,  77,  78,
                     79,  80,  81,  82,  83,  84,  85,  86,  87,  88,  89,  90,
                     91,  92,  93,  94,  95,  96,  97,  98,  99,  100, 101, 102,
                     103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 0,   0,
                     0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,
                     0,   0,   0,   0,   0,   0,   0,   0,   0},
                    {0x00160040, 0x00143200, 0x00143201, 0x00140322, 0xC0140023,
                     0x40140024, 0x80141E05, 0x01100006, 0x01100007, 0x06010008,
                     0x55555549, 0x9102410A, 0x0401100B, 0x1B0C006C, 0x2302886D,
                     0x0200000E, 0x8000800F, 0xC1550410, 0x00000058, 0x02C9C419,
                     0x8FA8001A, 0x10001E1B, 0x0021201C, 0x0180033D, 0x0200033E,
                     0x003F001F, 0,          0,          0,          0,
                     0,          0,          0,          0,          0,
                     0,          0,          0,          0,          0,
                     0,          0,          0,          0,          0,
                     0,          0,          0,          0,          0,
                     0,          0,          0,          0,          0,
                     0,          0,          0,          0,          0,
                     0,          0,          0,          0,          0,
                     0,          0,          0,          0,          0,
                     0,          0,          0,          0,          0,
                     0,          0,          0,          0,          0,
                     0,          0,          0,          0,          0,
                     0,          0,          0,          0,          0,
                     0,          0,          0,          0,          0,
                     0,          0,          0,          0,          0,
                     0,          0,          0,          0,          0,
                     0,          0,          0,          0,          0,
                     0,          0,          0,          0,          0,
                     0,          0,          0,          0,          0,
                     0,          0,          0,          0,          0,
                     0}},
       XClockingLmx{
           "lmk04828",
           245760,
           128,
           {0,   0,   2,   3,   4,   5,   6,   12,  13,   256,  257,  258, 259,
            260, 261, 262, 263, 264, 265, 266, 267, 268,  269,  270,  271, 272,
            273, 274, 275, 276, 277, 278, 279, 280, 281,  282,  283,  284, 285,
            286, 287, 288, 289, 290, 291, 292, 293, 294,  295,  296,  297, 298,
            299, 300, 301, 302, 303, 304, 305, 306, 307,  308,  309,  310, 311,
            312, 313, 314, 315, 316, 317, 318, 319, 320,  321,  322,  323, 324,
            325, 326, 327, 328, 329, 330, 331, 332, 333,  334,  335,  336, 337,
            338, 339, 340, 341, 342, 343, 344, 345, 346,  347,  348,  349, 350,
            351, 352, 353, 354, 355, 356, 357, 358, 359,  360,  361,  362, 363,
            364, 365, 366, 369, 370, 371, 380, 381, 8189, 8190, 8191, 0,   0,
            0,   0,   0,   0,   0,   0},
           {0x000090, 0x000010, 0x000200, 0x000306, 0x0004D0, 0x00055B,
            0x000600, 0x000C51, 0x000D04, 0x01006A, 0x010155, 0x010255,
            0x010301, 0x010422, 0x010500, 0x010673, 0x010703, 0x01086A,
            0x010955, 0x010A55, 0x010B00, 0x010C22, 0x010D00, 0x010EF0,
            0x010F30, 0x01106A, 0x011155, 0x011255, 0x011301, 0x011422,
            0x011500, 0x011673, 0x011703, 0x01186A, 0x011955, 0x011A55,
            0x011B01, 0x011C22, 0x011D00, 0x011E72, 0x011F03, 0x012074,
            0x012155, 0x012255, 0x012301, 0x012422, 0x012500, 0x012670,
            0x012733, 0x01286A, 0x012955, 0x012A55, 0x012B00, 0x012C22,
            0x012D00, 0x012EF0, 0x012F30, 0x01306A, 0x013155, 0x013255,
            0x013301, 0x013422, 0x013500, 0x013673, 0x013703, 0x013800,
            0x013903, 0x013A01, 0x013B40, 0x013C00, 0x013D01, 0x013E03,
            0x013F02, 0x014009, 0x014100, 0x014200, 0x014331, 0x0144FF,
            0x01457F, 0x014618, 0x01471A, 0x014806, 0x014946, 0x014A06,
            0x014B06, 0x014C00, 0x014D00, 0x014EC0, 0x014F7F, 0x015013,
            0x015102, 0x015200, 0x015300, 0x01547D, 0x015500, 0x01567D,
            0x015703, 0x0158C0, 0x015907, 0x015AD0, 0x015BDA, 0x015C20,
            0x015D00, 0x015E00, 0x015F3E, 0x016000, 0x016119, 0x016244,
            0x016300, 0x016400, 0x0165A0, 0x016600, 0x016700, 0x0168C0,
            0x016959, 0x016A20, 0x016B00, 0x016C00, 0x016D00, 0x016E1B,
            0x0171AA, 0x017202, 0x017300, 0x017C15, 0x017D33, 0x1FFD00,
            0x1FFE00, 0x1FFF53, 0,        0,        0,        0,
            0,        0,        0,        0}},
       XClockingLmx{
           "lmk04828",
           500000,
           136,
           {0,   0,   2,   3,    4,    5,   6,   12,  13,  256, 257, 258, 259,
            260, 261, 262, 263,  264,  265, 266, 267, 268, 269, 270, 271, 272,
            273, 274, 275, 276,  277,  278, 279, 280, 281, 282, 283, 284, 285,
            286, 287, 288, 289,  290,  291, 292, 293, 294, 295, 296, 297, 298,
            299, 300, 301, 302,  303,  304, 305, 306, 307, 308, 309, 310, 311,
            312, 313, 314, 315,  316,  317, 318, 319, 320, 321, 322, 323, 324,
            325, 326, 327, 328,  329,  330, 331, 332, 333, 334, 335, 336, 337,
            338, 339, 340, 341,  342,  343, 344, 345, 346, 347, 348, 349, 350,
            351, 352, 353, 354,  355,  356, 357, 358, 359, 360, 361, 362, 363,
            364, 365, 366, 369,  370,  371, 386, 387, 388, 389, 392, 393, 394,
            395, 380, 381, 8189, 8190, 8191},
           {0x000090, 0x00241C, 0x020500, 0x030642, 0x040C43, 0x0500C8,
            0x06C802, 0x0C5001, 0x0D4000, 0x010006, 0x010155, 0x010255,
            0x010301, 0x010422, 0x010500, 0x010670, 0x010711, 0x010806,
            0x010955, 0x010A55, 0x010B00, 0x010C22, 0x010D00, 0x010EF0,
            0x010F30, 0x011006, 0x011155, 0x011255, 0x011301, 0x011422,
            0x011500, 0x011673, 0x011701, 0x011866, 0x011955, 0x011A55,
            0x011B01, 0x011C22, 0x011D00, 0x011E70, 0x011F07, 0x012066,
            0x012155, 0x012255, 0x012301, 0x012422, 0x012500, 0x012670,
            0x012713, 0x012866, 0x012955, 0x012A55, 0x012B00, 0x012C22,
            0x012D00, 0x012EF0, 0x012F10, 0x013066, 0x013155, 0x013255,
            0x013301, 0x013422, 0x013500, 0x013673, 0x013707, 0x013820,
            0x013903, 0x013A02, 0x013B58, 0x013C00, 0x013D01, 0x013E03,
            0x013F0D, 0x014009, 0x014100, 0x014200, 0x014331, 0x0144DD,
            0x01457F, 0x01461B, 0x01474A, 0x014806, 0x014946, 0x014A06,
            0x014B06, 0x014C00, 0x014D00, 0x014EC0, 0x014F7F, 0x015013,
            0x015102, 0x015200, 0x015300, 0x015402, 0x015500, 0x015602,
            0x015703, 0x0158C0, 0x015900, 0x015A01, 0x015BDA, 0x015C20,
            0x015D00, 0x015E00, 0x015F3E, 0x016000, 0x016120, 0x016244,
            0x016300, 0x016400, 0x0165A0, 0x016600, 0x016701, 0x01682C,
            0x016959, 0x016A20, 0x016B00, 0x016C00, 0x016D00, 0x016E1B,
            0x0171AA, 0x017202, 0x017300, 0x018200, 0x018300, 0x018400,
            0x018500, 0x018800, 0x018900, 0x018A00, 0x018B00, 0x017C15,
            0x017D33, 0x1FFD00, 0x1FFE00, 0x1FFF53}}}};
};

#endif // __DRIVERS_LED_BLINKER_HPP__
